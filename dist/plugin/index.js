"use strict";(()=>{var c=(i,t,e)=>new Promise((a,n)=>{var m=l=>{try{o(e.next(l))}catch(g){n(g)}},f=l=>{try{o(e.throw(l))}catch(g){n(g)}},o=l=>l.done?a(l.value):Promise.resolve(l.value).then(m,f);o((e=e.apply(i,t)).next())});figma.showUI(__html__);var s=[];figma.ui.onmessage=i=>{i.type==="generate"&&(s=i.data.image_list,r(i.data.data),console.log(s))};console.log("image_links",s);function r(i){return c(this,null,function*(){let t=0;for(let e of i){let a;e.type==="RECTANGLE"?(a=figma.createRectangle(),a.x=e.x,a.y=e.y,a.resize(e.width,e.height),a.name=e.name,a.setPluginData("customNodeId",e.id),a.fills=e.fills,a.cornerRadius=e.cornerRadius,e.name.includes("Image")&&(console.log("setting image ",t,s[t]),figma.createImageAsync(s[t]).then(n=>c(this,null,function*(){"fills"in a&&(a.fills=[{type:"IMAGE",imageHash:n.hash,scaleMode:"FILL"}],console.log("image setted ",t))})).catch(n=>{console.log(n)}),t++)):e.type==="TEXT"?(yield figma.loadFontAsync(e.fontName),a=figma.createText(),a.x=e.x,a.y=e.y,a.resize(e.width,e.height),a.characters=e.characters,a.fontSize=e.fontSize,a.name=e.name,a.fontName=e.fontName,a.fills=e.fills,a.textAlignHorizontal=e.textAlignHorizontal,a.textAlignVertical=e.textAlignVertical,a.setPluginData("customNodeId",e.id)):e.type==="LINE"&&(a=figma.createLine(),a.x=e.x,a.y=e.y,a.resize(e.width,e.height),a.fills=e.fills,a.name=e.name,a.setPluginData("customNodeId",e.id))}})}})();
//# sourceMappingURL=index.js.map
